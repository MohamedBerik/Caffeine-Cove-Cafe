{"ast":null,"code":"import axios from\"axios\";import React,{createContext,useEffect,useState}from\"react\";// 1. أنشئ Context وصدره - بحرف كبير\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";export const ApiContext=/*#__PURE__*/createContext();// ⬅️ ApiContext بدل apiValue\n// 2. أنشئ hook لاستخدام Context\nexport const useApi=()=>{const context=React.useContext(ApiContext);if(!context){throw new Error(\"useApi must be used within AllData\");}return context;};// 3. المكون الرئيسي\nfunction AllData(_ref){let{children}=_ref;const[api,setApi]=useState([]);useEffect(()=>{axios.get(\"http://localhost:3000/\").then(result=>{setApi(result.data.products);}).catch(error=>{console.error(\"Error fetching data:\",error);setApi([]);});},[]);return/*#__PURE__*/_jsxs(ApiContext.Provider,{value:{api,setApi},children:[\" \",children]});}export default AllData;","map":{"version":3,"names":["axios","React","createContext","useEffect","useState","jsxs","_jsxs","ApiContext","useApi","context","useContext","Error","AllData","_ref","children","api","setApi","get","then","result","data","products","catch","error","console","Provider","value"],"sources":["C:/React/Caffeine Cove/src/Data/AllData.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { createContext, useEffect, useState } from \"react\";\r\n\r\n// 1. أنشئ Context وصدره - بحرف كبير\r\nexport const ApiContext = createContext(); // ⬅️ ApiContext بدل apiValue\r\n\r\n// 2. أنشئ hook لاستخدام Context\r\nexport const useApi = () => {\r\n  const context = React.useContext(ApiContext);\r\n  if (!context) {\r\n    throw new Error(\"useApi must be used within AllData\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// 3. المكون الرئيسي\r\nfunction AllData({ children }) {\r\n  const [api, setApi] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:3000/\")\r\n      .then((result) => {\r\n        setApi(result.data.products);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching data:\", error);\r\n        setApi([]);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <ApiContext.Provider value={{ api, setApi }}>\r\n      {\" \"}\r\n      {/* ⬅️ ApiContext.Provider */}\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n}\r\n\r\nexport default AllData;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAEjE;AAAA,OAAAC,IAAA,IAAAC,KAAA,yBACA,MAAO,MAAM,CAAAC,UAAU,cAAGL,aAAa,CAAC,CAAC,CAAE;AAE3C;AACA,MAAO,MAAM,CAAAM,MAAM,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,OAAO,CAAGR,KAAK,CAACS,UAAU,CAACH,UAAU,CAAC,CAC5C,GAAI,CAACE,OAAO,CAAE,CACZ,KAAM,IAAI,CAAAE,KAAK,CAAC,oCAAoC,CAAC,CACvD,CACA,MAAO,CAAAF,OAAO,CAChB,CAAC,CAED;AACA,QAAS,CAAAG,OAAOA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,GAAG,CAAEC,MAAM,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAElCD,SAAS,CAAC,IAAM,CACdH,KAAK,CACFiB,GAAG,CAAC,wBAAwB,CAAC,CAC7BC,IAAI,CAAEC,MAAM,EAAK,CAChBH,MAAM,CAACG,MAAM,CAACC,IAAI,CAACC,QAAQ,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CP,MAAM,CAAC,EAAE,CAAC,CACZ,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEV,KAAA,CAACC,UAAU,CAACkB,QAAQ,EAACC,KAAK,CAAE,CAAEX,GAAG,CAAEC,MAAO,CAAE,CAAAF,QAAA,EACzC,GAAG,CAEHA,QAAQ,EACU,CAAC,CAE1B,CAEA,cAAe,CAAAF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}