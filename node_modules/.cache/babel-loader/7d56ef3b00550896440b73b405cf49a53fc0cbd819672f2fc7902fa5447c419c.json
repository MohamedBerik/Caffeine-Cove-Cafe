{"ast":null,"code":"import _objectSpread from\"C:/React/Caffeine Cove/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import Navbar from\"../Home/Navbar\";import Footer from\"../Home/Footer\";import api from\"../services/axios\";// Axios مهيأ مسبقًا مع BaseURL\nimport{useAuth}from\"../context/AuthContext\";import{notifyError,notifySuccess}from\"../utils/notify\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AllContact(){const[formData,setFormData]=useState({name:\"\",email:\"\",persons:\"\",date:\"\",time:\"\",message:\"\"});const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const{user}=useAuth();const token=(user===null||user===void 0?void 0:user.token)||localStorage.getItem(\"token\");const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setError(\"\");setSuccess(\"\");setLoading(true);try{const response=await api.post(\"/reservations\",formData,{headers:{Authorization:\"Bearer \".concat(token)}});setSuccess(\"Reservation sent successfully ✅\");notifySuccess(\"Reservation confirmed\");setFormData({name:\"\",email:\"\",persons:\"\",date:\"\",time:\"\",message:\"\"});console.log(response.data);}catch(err){var _err$response,_err$response$data;notifyError(\"Failed to confirm reservation\");console.error(err);if((_err$response=err.response)!==null&&_err$response!==void 0&&(_err$response$data=_err$response.data)!==null&&_err$response$data!==void 0&&_err$response$data.message){setError(err.response.data.message);}else{setError(\"Server error ❌\");}}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"section\",{id:\"contact\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\"What Happens Here\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Reservation Area\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"map\",children:/*#__PURE__*/_jsx(\"iframe\",{src:\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d884780.515123437!2d31.502804734375005!3d29.974432300000007!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145856f81d43dbed%3A0x42cb3cb3dfd7e8b6!2sCosta%20Coffee!5e0!3m2!1sar!2seg!4v1749718038688!5m2!1sar!2seg\",width:\"600\",height:\"450\",style:{border:0},allowFullScreen:true,loading:\"lazy\",referrerPolicy:\"no-referrer-when-downgrade\",title:\"Map\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Book a Table\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),success&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\"},children:success}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Your Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Your Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"persons\",value:formData.persons,onChange:handleChange,placeholder:\"Persons\",min:\"1\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:formData.date,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"time\",value:formData.time,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",value:formData.message,onChange:handleChange,placeholder:\"Your Message\",rows:\"6\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,class:\"btn btn-success\",children:loading?\"Booking...\":\"Book a Table\"})]})]})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default AllContact;","map":{"version":3,"names":["React","useState","Navbar","Footer","api","useAuth","notifyError","notifySuccess","jsx","_jsx","jsxs","_jsxs","AllContact","formData","setFormData","name","email","persons","date","time","message","loading","setLoading","error","setError","success","setSuccess","user","token","localStorage","getItem","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","response","post","headers","Authorization","concat","console","log","data","err","_err$response","_err$response$data","children","id","className","src","width","height","style","border","allowFullScreen","referrerPolicy","title","color","onSubmit","type","onChange","placeholder","required","min","rows","disabled","class"],"sources":["C:/React/Caffeine Cove/src/Contact/AllContact.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Navbar from \"../Home/Navbar\";\r\nimport Footer from \"../Home/Footer\";\r\nimport api from \"../services/axios\"; // Axios مهيأ مسبقًا مع BaseURL\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { notifyError, notifySuccess } from \"../utils/notify\";\r\n\r\nfunction AllContact() {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    persons: \"\",\r\n    date: \"\",\r\n    time: \"\",\r\n    message: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const { user } = useAuth();\r\n  const token = user?.token || localStorage.getItem(\"token\");\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await api.post(\"/reservations\", formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      setSuccess(\"Reservation sent successfully ✅\");\r\n      notifySuccess(\"Reservation confirmed\");\r\n      setFormData({\r\n        name: \"\",\r\n        email: \"\",\r\n        persons: \"\",\r\n        date: \"\",\r\n        time: \"\",\r\n        message: \"\",\r\n      });\r\n      console.log(response.data);\r\n    } catch (err) {\r\n      notifyError(\"Failed to confirm reservation\");\r\n      console.error(err);\r\n      if (err.response?.data?.message) {\r\n        setError(err.response.data.message);\r\n      } else {\r\n        setError(\"Server error ❌\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n\r\n      <section id=\"contact\">\r\n        <div className=\"container\">\r\n          <div className=\"heading\">\r\n            <span className=\"text-primary\">What Happens Here</span>\r\n            <h2>Reservation Area</h2>\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <div className=\"map\">\r\n              <iframe\r\n                src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d884780.515123437!2d31.502804734375005!3d29.974432300000007!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145856f81d43dbed%3A0x42cb3cb3dfd7e8b6!2sCosta%20Coffee!5e0!3m2!1sar!2seg!4v1749718038688!5m2!1sar!2seg\"\r\n                width=\"600\"\r\n                height=\"450\"\r\n                style={{ border: 0 }}\r\n                allowFullScreen\r\n                loading=\"lazy\"\r\n                referrerPolicy=\"no-referrer-when-downgrade\"\r\n                title=\"Map\"\r\n              ></iframe>\r\n            </div>\r\n\r\n            <div className=\"contact-content\">\r\n              <h3>Book a Table</h3>\r\n\r\n              {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n              {success && <p style={{ color: \"green\" }}>{success}</p>}\r\n\r\n              <form onSubmit={handleSubmit}>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Your Name\"\r\n                  required\r\n                />\r\n\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Your Email\"\r\n                  required\r\n                />\r\n\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"persons\"\r\n                  value={formData.persons}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Persons\"\r\n                  min=\"1\"\r\n                  required\r\n                />\r\n\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  value={formData.date}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"time\"\r\n                  value={formData.time}\r\n                  onChange={handleChange}\r\n                  required\r\n                />\r\n\r\n                <textarea\r\n                  name=\"message\"\r\n                  value={formData.message}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Your Message\"\r\n                  rows=\"6\"\r\n                ></textarea>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  class=\"btn btn-success\"\r\n                >\r\n                  {loading ? \"Booking...\" : \"Book a Table\"}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AllContact;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}